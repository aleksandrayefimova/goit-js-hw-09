{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\n\n\nform.addEventListener(\"input\", onSaveData)\nform.addEventListener(\"submit\", onSubmitForm)\n\n\nconst localStorageKey = 'feedback-form-state';\nconst dataLocalStorage = getLocalStorage(localStorageKey);\n\nconst objFormData = {\n    email: '',\n    message: '',\n}\n\nif (!!dataLocalStorage) {\n    try {\n        const { email: emailLocalStorage, message: messageLocalStorage } = dataLocalStorage;\n        const { email: inputEmail, message: inputMessage } = form.elements; \n\n        if (emailLocalStorage) {\n          inputEmail.value = emailLocalStorage;\n          objFormData.email = emailLocalStorage;\n        }\n\n        if (messageLocalStorage) {\n          inputMessage.value = messageLocalStorage;\n          objFormData.message = messageLocalStorage;\n        }\n        \n    } catch (error) {\n        console.log(error)\n        console.log(error.message)\n    }\n}\n\nfunction onSaveData(event) {\n    const target = event.target\n    const { name, value } = target;\n    objFormData[name] = value;\n    setLocalStorage(localStorageKey, objFormData)\n}\n\nfunction onSubmitForm(event) {\n    event.preventDefault();\n\n    const target = event.currentTarget\n    const { email, message } = target.elements;\n\n    if (!email.value || !message.value) {\n        alert(\"fill all fields\")\n    } else {\n        console.log(objFormData);\n        target.reset();\n\n        removeLocalStorage(localStorageKey);\n        objFormData.email = \"\";\n        objFormData.message = \"\"\n    }\n}\n\nfunction removeLocalStorage(key) {\n    localStorage.removeItem(key);\n}\n\nfunction getLocalStorage(key) {\n    return transformToJsObj(localStorage.getItem(key));\n}\n\nfunction setLocalStorage(key, data) {\n    localStorage.setItem(key, transformToJSON(data));\n}\n\nfunction transformToJSON(data) {\n    return JSON.stringify(data);\n}\n\nfunction transformToJsObj(data) {\n    return JSON.parse(data);\n }"],"names":["form","onSaveData","onSubmitForm","localStorageKey","dataLocalStorage","getLocalStorage","objFormData","emailLocalStorage","messageLocalStorage","inputEmail","inputMessage","error","event","target","name","value","setLocalStorage","email","message","removeLocalStorage","key","transformToJsObj","data","transformToJSON"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAGpDA,EAAK,iBAAiB,QAASC,CAAU,EACzCD,EAAK,iBAAiB,SAAUE,CAAY,EAG5C,MAAMC,EAAkB,sBAClBC,EAAmBC,EAAgBF,CAAe,EAElDG,EAAc,CAChB,MAAO,GACP,QAAS,EACb,EAEA,GAAMF,EACF,GAAI,CACA,KAAM,CAAE,MAAOG,EAAmB,QAASC,CAAmB,EAAKJ,EAC7D,CAAE,MAAOK,EAAY,QAASC,CAAc,EAAGV,EAAK,SAEtDO,IACFE,EAAW,MAAQF,EACnBD,EAAY,MAAQC,GAGlBC,IACFE,EAAa,MAAQF,EACrBF,EAAY,QAAUE,EAG3B,OAAQG,EAAO,CACZ,QAAQ,IAAIA,CAAK,EACjB,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CAGL,SAASV,EAAWW,EAAO,CACvB,MAAMC,EAASD,EAAM,OACf,CAAE,KAAAE,EAAM,MAAAC,CAAO,EAAGF,EACxBP,EAAYQ,CAAI,EAAIC,EACpBC,EAAgBb,EAAiBG,CAAW,CAChD,CAEA,SAASJ,EAAaU,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAASD,EAAM,cACf,CAAE,MAAAK,EAAO,QAAAC,GAAYL,EAAO,SAE9B,CAACI,EAAM,OAAS,CAACC,EAAQ,MACzB,MAAM,iBAAiB,GAEvB,QAAQ,IAAIZ,CAAW,EACvBO,EAAO,MAAK,EAEZM,EAAmBhB,CAAe,EAClCG,EAAY,MAAQ,GACpBA,EAAY,QAAU,GAE9B,CAEA,SAASa,EAAmBC,EAAK,CAC7B,aAAa,WAAWA,CAAG,CAC/B,CAEA,SAASf,EAAgBe,EAAK,CAC1B,OAAOC,EAAiB,aAAa,QAAQD,CAAG,CAAC,CACrD,CAEA,SAASJ,EAAgBI,EAAKE,EAAM,CAChC,aAAa,QAAQF,EAAKG,EAAgBD,CAAI,CAAC,CACnD,CAEA,SAASC,EAAgBD,EAAM,CAC3B,OAAO,KAAK,UAAUA,CAAI,CAC9B,CAEA,SAASD,EAAiBC,EAAM,CAC5B,OAAO,KAAK,MAAMA,CAAI,CAC1B"}